spring:
  application:
    name: backend
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false
  data:
    redis:
      host: ${SPRING_REDIS_HOST}
      port: ${SPRING_REDIS_PORT}
  rabbitmq:
    host: ${SPRING_RABBITMQ_HOST}
    port: ${SPRING_RABBITMQ_PORT}
    username: ${SPRING_RABBITMQ_USERNAME}
    password: ${SPRING_RABBITMQ_PASSWORD}
  mail:
    host: ${SPRING_MAIL_HOST}
    port: ${SPRING_MAIL_PORT}
    username: ${SPRING_MAIL_USERNAME:}
    password: ${SPRING_MAIL_PASSWORD:}
    properties:
      mail.smtp.auth: false
      mail.smtp.starttls.enable: false
  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 200MB

server:
  port: ${PORT:8080}

springdoc:
  api-docs:
    path: /openapi
  swagger-ui:
    enabled: false
  paths-to-exclude:
    - /docs
    - /docs/**

scalar:
  enabled: false
  path: /docs
  url: /openapi/mobile

auth:
  cookie:
    name: sid
    secure: false
    same-site: Lax
    path: /
  refresh-cookie:
    name: rid
    secure: false
    same-site: Lax
    path: /
  session:
    ttl: PT15M
  refresh:
    ttl: PT168H
  verification:
    ttl: PT15M
    expose-token-in-response: ${AUTH_VERIFICATION_EXPOSE_TOKEN_IN_RESPONSE:true}
    resend-cooldown: ${AUTH_VERIFICATION_RESEND_COOLDOWN:PT1M}
  cache:
    prefix: auth
    user-session-set-prefix: auth:user-sessions
  mail:
    from: ${AUTH_MAIL_FROM:no-reply@starterpack.local}
    verification-link-base-url: ${AUTH_MAIL_VERIFICATION_LINK_BASE_URL:http://localhost:3000/verify}
    password-reset-link-base-url: ${AUTH_MAIL_PASSWORD_RESET_LINK_BASE_URL:http://localhost:3000/reset-password}

cache:
  users:
    list-ttl: PT5M

upload:
  max-file-size-bytes: 52428800
  allowed-content-types: []
  local:
    base-dir: uploads
    public-base-url: /files

infra:
  ui:
    rabbitmq: ${INFRA_UI_RABBITMQ:http://localhost:15672}
    mailpit: ${INFRA_UI_MAILPIT:http://localhost:8025}
    redis-insight: ${INFRA_UI_REDIS_INSIGHT:http://localhost:8001}
    admin-docs: ${INFRA_UI_ADMIN_DOCS:http://localhost:${PORT:8080}/api-docs/admin}
    mobile-docs: ${INFRA_UI_MOBILE_DOCS:http://localhost:${PORT:8080}/api-docs/mobile}
